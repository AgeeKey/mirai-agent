# Environment Variables Template for Mirai Agent
# Copy this file to .env and customize the values for your deployment

# ============================================================================
# GENERAL CONFIGURATION
# ============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
TZ=UTC

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL Database
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=mirai_agent
POSTGRES_USER=mirai_user
POSTGRES_PASSWORD=your_secure_postgres_password_here

# Database connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_DB=0

# ============================================================================
# EXCHANGE API CONFIGURATION
# ============================================================================
# Binance API Configuration
BINANCE_API_KEY=your_binance_api_key_here
BINANCE_SECRET_KEY=your_binance_secret_key_here
BINANCE_TESTNET=false

# Exchange settings
EXCHANGE_NAME=binance
EXCHANGE_SANDBOX=false
API_RATE_LIMIT=1200  # requests per minute

# ============================================================================
# TRADING CONFIGURATION
# ============================================================================
# Risk Management
MAX_POSITION_SIZE=0.1  # 10% of portfolio per position
MAX_DAILY_LOSS=0.05    # 5% maximum daily loss
MAX_DRAWDOWN=0.15      # 15% maximum drawdown
STOP_LOSS_PERCENTAGE=0.02  # 2% stop loss

# Trading pairs (comma-separated)
TRADING_PAIRS=BTCUSDT,ETHUSDT,ADAUSDT,SOLUSDT

# Strategy parameters
RSI_PERIOD=14
MA_FAST_PERIOD=9
MA_SLOW_PERIOD=21
SIGNAL_THRESHOLD=0.7
MIN_VOLUME_THRESHOLD=1000000

# ============================================================================
# TELEGRAM BOT CONFIGURATION
# ============================================================================
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_telegram_chat_id_here
TELEGRAM_NOTIFICATIONS_ENABLED=true

# Notification settings
NOTIFY_ON_TRADES=true
NOTIFY_ON_SIGNALS=true
NOTIFY_ON_ERRORS=true
NOTIFY_ON_RISK_EVENTS=true

# ============================================================================
# WEB DASHBOARD CONFIGURATION
# ============================================================================
DASHBOARD_HOST=0.0.0.0
DASHBOARD_PORT=3000
DASHBOARD_SECRET_KEY=your_secure_dashboard_secret_here

# Authentication
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=24h
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_secure_admin_password_here

# ============================================================================
# API CONFIGURATION
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_SECRET_KEY=your_secure_api_secret_here

# CORS settings
CORS_ORIGINS=*
CORS_METHODS=GET,POST,PUT,DELETE
CORS_HEADERS=*

# Rate limiting
API_RATE_LIMIT_PER_MINUTE=100
API_RATE_LIMIT_BURST=20

# ============================================================================
# MONITORING CONFIGURATION
# ============================================================================
# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=15d

# Grafana
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your_secure_grafana_password_here

# Health check intervals (seconds)
HEALTH_CHECK_INTERVAL=30
METRICS_EXPORT_INTERVAL=60

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# SSL/TLS
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/mirai.crt
SSL_KEY_PATH=/etc/ssl/private/mirai.key

# Security headers
HSTS_ENABLED=true
CSP_ENABLED=true
X_FRAME_OPTIONS=DENY

# API Key for internal service communication
INTERNAL_API_KEY=your_internal_api_key_here

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_FORMAT=json
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30

# Specific log levels for components
TRADER_LOG_LEVEL=INFO
AGENT_LOG_LEVEL=INFO
API_LOG_LEVEL=WARNING
DASHBOARD_LOG_LEVEL=INFO

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
# Worker processes
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
WORKER_TIMEOUT=30

# Cache settings
CACHE_TTL=300  # 5 minutes
CACHE_MAX_SIZE=1000

# Background job settings
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2
CELERY_WORKER_CONCURRENCY=4

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=mirai-agent-backups
BACKUP_S3_REGION=us-east-1

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================
# Email notifications (optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=

# Webhook URLs for external integrations
WEBHOOK_TRADES=
WEBHOOK_ALERTS=
WEBHOOK_HEALTH=

# Market data providers
MARKET_DATA_PROVIDER=binance
MARKET_DATA_API_KEY=
MARKET_DATA_WEBSOCKET=true

# ============================================================================
# DEVELOPMENT SETTINGS (remove in production)
# ============================================================================
# Development mode flags
DEV_MODE=false
MOCK_TRADING=false
SIMULATE_MARKET_DATA=false

# Testing
TEST_DATABASE_URL=postgresql://test_user:test_pass@localhost:5433/test_mirai
TEST_REDIS_URL=redis://localhost:6380/0